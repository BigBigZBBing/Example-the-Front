<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../dbUI.com/dbUI-com.js"></script>
    <link rel="stylesheet" href="./dbUI.filtergrid.css">
    <link rel="stylesheet" href="../dbUI.com/dbUI-fonts.css"">
    <link rel=" stylesheet" href="../dbUI.controls/dbUI.controls.css">
    <script src=" ./dbUI.filtergrid.js">
    </script>
</head>

<body>
    <script src="../dbUI.controls/dbUI.controls.js"></script>
    <table class="dbUI-filtergrid" cellpadding="0" cellspacing="0" id="test1"></table>
    <br>
    <input type="button" value="RefreshFilter" id="refresh1">
    <br>
    <input type="button" value="Refresh" id="refresh2">
    <script>
        var data = [
            { name: "张炳彬", old: "27", sex: "0", sleep: "0" },
            { name: "康圣上", old: "25", sex: "0", sleep: "1" },
            { name: "安得权", old: "32", sex: "0", sleep: "1" },
            { name: "忽悠🐏", old: "32", sex: "1", sleep: "1" },
            { name: "和百冬", old: "32", sex: "0", sleep: "0" },
            { name: "孙博翔", old: "25", sex: "0", sleep: "1" },
            { name: "张炳彬", old: "27", sex: "0", sleep: "0" },
            { name: "康圣上", old: "25", sex: "0", sleep: "1" },
            { name: "安得权", old: "32", sex: "0", sleep: "1" },
            { name: "忽悠🐏", old: "32", sex: "1", sleep: "1" },
            { name: "和百冬", old: "32", sex: "0", sleep: "0" },
            { name: "孙博翔", old: "25", sex: "0", sleep: "1" },
            { name: "张炳彬", old: "27", sex: "0", sleep: "0" },
            { name: "康圣上", old: "25", sex: "0", sleep: "1" },
            { name: "安得权", old: "32", sex: "0", sleep: "1" },
            { name: "忽悠🐏", old: "32", sex: "1", sleep: "1" },
            { name: "和百冬", old: "32", sex: "0", sleep: "0" },
            { name: "孙博翔", old: "25", sex: "0", sleep: "1" },
            { name: "张炳彬", old: "27", sex: "0", sleep: "0" },
            { name: "康圣上", old: "25", sex: "0", sleep: "1" },
            { name: "安得权", old: "32", sex: "0", sleep: "1" },
            { name: "忽悠🐏", old: "32", sex: "1", sleep: "1" },
            { name: "和百冬", old: "32", sex: "0", sleep: "0" },
            { name: "孙博翔", old: "25", sex: "0", sleep: "1" },
            { name: "张炳彬", old: "27", sex: "0", sleep: "0" },
            { name: "康圣上", old: "25", sex: "0", sleep: "1" },
            { name: "安得权", old: "32", sex: "0", sleep: "1" },
            { name: "忽悠🐏", old: "32", sex: "1", sleep: "1" },
            { name: "和百冬", old: "32", sex: "0", sleep: "0" },
            { name: "孙博翔", old: "25", sex: "0", sleep: "1" },
            { name: "安得权", old: "32", sex: "0", sleep: "1" },
            { name: "忽悠🐏", old: "32", sex: "1", sleep: "1" },
            { name: "和百冬", old: "32", sex: "0", sleep: "0" },
            { name: "孙博翔", old: "25", sex: "0", sleep: "1" },
        ];

        var handle = $dbUI.filtergrid(document.getElementById("test1"), {
            cols: [
                { title: "名字", field: "name", filter: true, date: true },
                { title: "年龄", field: "old", width: 300 },
                {
                    title: "性别", field: "sex", filter: true, select: [
                        { key: "请选择", value: "" },
                        { key: "男", value: "0" },
                        { key: "女", value: "1" }
                    ], templet: function (row) {
                        switch (row["sex"]) {
                            case "0": return "男";
                            case "1": return "女";
                        }
                        return "";
                    }
                },
                {
                    title: "休息", field: "sleep", width: 200, filter: true, select: [
                        { key: "请选择", value: "" },
                        { key: "否", value: "0" },
                        { key: "是", value: "1" }
                    ], templet: function (row) {
                        switch (row["sleep"]) {
                            case "0": return "否";
                            case "1": return "是";
                        }
                        return "";
                    }
                },
            ],
            data: data,
            pageTotal: data.length,
            // rowIndex: true,
            // tabs: ["filter"],
            // url: "https://localhost:44303/Home/filtergrid",
            pager: true
        });

        var newCols = [
            { title: "名字", field: "name", filter: true, date: true },
            { title: "年龄", field: "old", width: 300 },
            {
                title: "性别", field: "sex", filter: true, select: [
                    { key: "请选择", value: "" },
                    { key: "男", value: "0" },
                    { key: "女", value: "1" }
                ], templet: function (row) {
                    switch (row["sex"]) {
                        case "0": return "男";
                        case "1": return "女";
                    }
                    return "";
                }
            }
        ];

        document.getElementById("refresh1").Bind("click", function () {
            handle.cols = newCols;
            handle.RefreshFilter();
        });

        document.getElementById("refresh2").Bind("click", function () {
            handle.cols = newCols;
            handle.Refresh();
        });

    </script>
</body>

</html>
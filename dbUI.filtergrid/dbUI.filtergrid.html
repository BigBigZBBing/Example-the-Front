<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../dbUI.com/dbUI-com.js"></script>
    <link rel="stylesheet" href="./dbUI.filtergrid.css">
    <link rel="stylesheet" href="../dbUI.com/dbUI-fonts.css"">
    <link rel=" stylesheet" href="../dbUI.controls/dbUI.controls.css">
    <script src=" ./dbUI.filtergrid.js">
    </script>
</head>

<body>
    <script src="../dbUI.controls/dbUI.controls.js"></script>
    <table class="dbUI-filtergrid" cellpadding="0" cellspacing="0" id="test1"></table>
    <br>
    <input type="button" value="RefreshFilter" id="refresh1">
    <br>
    <input type="button" value="Refresh" id="refresh2">
    <script>
        var data = [
            { name: "å¼ ç‚³å½¬", old: "27", sex: "0", sleep: "0" },
            { name: "åº·åœ£ä¸Š", old: "25", sex: "0", sleep: "1" },
            { name: "å®‰å¾—æƒ", old: "32", sex: "0", sleep: "1" },
            { name: "å¿½æ‚ ğŸ", old: "32", sex: "1", sleep: "1" },
            { name: "å’Œç™¾å†¬", old: "32", sex: "0", sleep: "0" },
            { name: "å­™åšç¿”", old: "25", sex: "0", sleep: "1" },
            { name: "å¼ ç‚³å½¬", old: "27", sex: "0", sleep: "0" },
            { name: "åº·åœ£ä¸Š", old: "25", sex: "0", sleep: "1" },
            { name: "å®‰å¾—æƒ", old: "32", sex: "0", sleep: "1" },
            { name: "å¿½æ‚ ğŸ", old: "32", sex: "1", sleep: "1" },
            { name: "å’Œç™¾å†¬", old: "32", sex: "0", sleep: "0" },
            { name: "å­™åšç¿”", old: "25", sex: "0", sleep: "1" },
            { name: "å¼ ç‚³å½¬", old: "27", sex: "0", sleep: "0" },
            { name: "åº·åœ£ä¸Š", old: "25", sex: "0", sleep: "1" },
            { name: "å®‰å¾—æƒ", old: "32", sex: "0", sleep: "1" },
            { name: "å¿½æ‚ ğŸ", old: "32", sex: "1", sleep: "1" },
            { name: "å’Œç™¾å†¬", old: "32", sex: "0", sleep: "0" },
            { name: "å­™åšç¿”", old: "25", sex: "0", sleep: "1" },
            { name: "å¼ ç‚³å½¬", old: "27", sex: "0", sleep: "0" },
            { name: "åº·åœ£ä¸Š", old: "25", sex: "0", sleep: "1" },
            { name: "å®‰å¾—æƒ", old: "32", sex: "0", sleep: "1" },
            { name: "å¿½æ‚ ğŸ", old: "32", sex: "1", sleep: "1" },
            { name: "å’Œç™¾å†¬", old: "32", sex: "0", sleep: "0" },
            { name: "å­™åšç¿”", old: "25", sex: "0", sleep: "1" },
            { name: "å¼ ç‚³å½¬", old: "27", sex: "0", sleep: "0" },
            { name: "åº·åœ£ä¸Š", old: "25", sex: "0", sleep: "1" },
            { name: "å®‰å¾—æƒ", old: "32", sex: "0", sleep: "1" },
            { name: "å¿½æ‚ ğŸ", old: "32", sex: "1", sleep: "1" },
            { name: "å’Œç™¾å†¬", old: "32", sex: "0", sleep: "0" },
            { name: "å­™åšç¿”", old: "25", sex: "0", sleep: "1" },
            { name: "å®‰å¾—æƒ", old: "32", sex: "0", sleep: "1" },
            { name: "å¿½æ‚ ğŸ", old: "32", sex: "1", sleep: "1" },
            { name: "å’Œç™¾å†¬", old: "32", sex: "0", sleep: "0" },
            { name: "å­™åšç¿”", old: "25", sex: "0", sleep: "1" },
        ];

        var handle = $dbUI.filtergrid(document.getElementById("test1"), {
            cols: [
                { title: "åå­—", field: "name", filter: true, date: true },
                { title: "å¹´é¾„", field: "old", width: 300 },
                {
                    title: "æ€§åˆ«", field: "sex", filter: true, select: [
                        { key: "è¯·é€‰æ‹©", value: "" },
                        { key: "ç”·", value: "0" },
                        { key: "å¥³", value: "1" }
                    ], templet: function (row) {
                        switch (row["sex"]) {
                            case "0": return "ç”·";
                            case "1": return "å¥³";
                        }
                        return "";
                    }
                },
                {
                    title: "ä¼‘æ¯", field: "sleep", width: 200, filter: true, select: [
                        { key: "è¯·é€‰æ‹©", value: "" },
                        { key: "å¦", value: "0" },
                        { key: "æ˜¯", value: "1" }
                    ], templet: function (row) {
                        switch (row["sleep"]) {
                            case "0": return "å¦";
                            case "1": return "æ˜¯";
                        }
                        return "";
                    }
                },
            ],
            data: data,
            pageTotal: data.length,
            // rowIndex: true,
            // tabs: ["filter"],
            // url: "https://localhost:44303/Home/filtergrid",
            pager: true
        });

        var newCols = [
            { title: "åå­—", field: "name", filter: true, date: true },
            { title: "å¹´é¾„", field: "old", width: 300 },
            {
                title: "æ€§åˆ«", field: "sex", filter: true, select: [
                    { key: "è¯·é€‰æ‹©", value: "" },
                    { key: "ç”·", value: "0" },
                    { key: "å¥³", value: "1" }
                ], templet: function (row) {
                    switch (row["sex"]) {
                        case "0": return "ç”·";
                        case "1": return "å¥³";
                    }
                    return "";
                }
            }
        ];

        document.getElementById("refresh1").Bind("click", function () {
            handle.cols = newCols;
            handle.RefreshFilter();
        });

        document.getElementById("refresh2").Bind("click", function () {
            handle.cols = newCols;
            handle.Refresh();
        });

    </script>
</body>

</html>